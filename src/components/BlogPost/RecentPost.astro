---
import type { CollectionEntry } from 'astro:content'
import DateTime from '@components/DateTime.astro'
import Tag from '@components/Tag.astro'
import slugify from 'slugify'
export interface Props {
  href: string
  frontmatter: CollectionEntry<'blog'>['data']
  class?: string
}

const {
  href,
  frontmatter: { title, tags, pubDate, description },
  class: className,
} = Astro.props
---

<article class={className}>
  <section>
    <h2 class="text-2xl">
      <a class="unset" href={href}>{title}</a>
    </h2>
    <div class="flex items-center justify-between mr-1">
      <DateTime class="self-end" datetime={pubDate} />
      <div class="mb-1 flex gap-2">
        {tags.map((tag) => <Tag href={`/tag/${slugify(tag)}`}>{tag}</Tag>)}
      </div>
    </div>
  </section>
  <hr class="border-border-line" />
  <p class="mt-2">{description}</p>
</article>
